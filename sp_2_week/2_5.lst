5	0000	COPY	START	0
10	0000	FIRST	STL	RETADR	000000
15	0003			LDB	#LENGTH	000000
20	0006			BASE	LENGTH	000000
25	0006	CLOOP	+JSUB	RDREC	000000
30	000A			LDA	LENGTH	000000
35	000D			COMP	#0	000000
40	0010			JEQ	ENDFIL	000000
45	0013			+JSUB	WRREC	000000
50	0017			J	CLOOP	000000
55	001A	ENDFIL	LDA	EOF	000000
60	001D			STA	BUFFER	000000
65	0020			LDA	#3	000000
70	0023			STA	LENGTH	000000
75	0026			+JSUB	WRREC	000000
80	002A			J	@RETADR	000000
85	002D	EOF	BYTE	C'EOF'	000000
90	0030	RETADR	RESW	1	000000
95	0033	LENGTH	RESW	1	000000
100	0036	BUFFER	RESB	4096	000000
105	1036	.					000000
110	1036	.      SUBROUTINE TO READ RECORD INTO BUFFER					000000
115	1036	.					000000
120	1036	RDREC	CLEAR	X	000000
125	1038			CLEAR	A	000000
130	103A			CLEAR	S	000000
135	103C			+LDT	#4096	000000
140	1040	RLOOP	TD	INPUT	000000
145	1043			JEQ	RLOOP	000000
150	1046			RD	INPUT	000000
155	1049			COMPR	A,S	000000
160	104B			JEQ	EXIT	000000
165	104E			STCH	BUFFER,X	000000
170	1051			TIXR	T	000000
175	1053			JLT	RLOOP	000000
180	1056	EXIT	STX	LENGTH	000000
185	1059			RSUB			000000
190	105C	INPUT	BYTE	X'F1'	000000
195	105D	.					000000
200	105D	.      SUBROUTINE TO WRITE RECORD FROM BUFFER					000000
205	105D	.					000000
210	105D	WRREC	CLEAR	X	000000
215	105F			LDT	LENGTH	000000
220	1062	WLOOP	TD	OUTPUT	000000
225	1065			JEQ	WLOOP	000000
230	1068			LDCH	BUFFER,X	000000
235	106B			WD	OUTPUT	000000
240	106E			TIXR	T	000000
245	1070			JLT	WLOOP	000000
250	1073			RSUB			000000
255	1076	OUTPUT	BYTE	X'05'	000000
260					END	FIRST
